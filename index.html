<!doctype html> 
<html lang="en">
<head>
  <title>Meet me at the library</title>
  <meta charset="utf-8">
    <link rel="stylesheet" href="ex5.css">
</head>
<body style="margin:0px;">
 
  <script src="three.min.js"></script>
    
    <h3>Meet me at the library</h3>
 
  <script>
 
   //Declare three.js variables
    var camera, scene, renderer, stars = [];
 
    //assign three.js objects to each variable
    function init(){
 
        //camera
        camera = new THREE.PerspectiveCamera(80, window.innerWidth / window.innerHeight, 1, 1000);
        camera.position.z = 5;
 
        //scene
        scene = new THREE.Scene();
 
        //renderer
        renderer = new THREE.WebGLRenderer();
        //set the size of the renderer
        renderer.setSize( window.innerWidth, window.innerHeight );
 
        //add the renderer to the html document body
        document.body.appendChild( renderer.domElement );
        
    }
      
        function addSphere(){
        // Create a sphere to make visualization easier.
            
            for ( var z= -1000; z < 1000; z+=10 ) {
                
        var geometry   = new THREE.SphereGeometry(2, 32, 32)
        var material = new THREE.MeshBasicMaterial( {color: 0xffffff} );
        sphere = new THREE.Mesh(geometry, material)
              sphere.position.x = Math.random() * 1000 - 500;
                sphere.position.y = Math.random() * 1000 - 500;
 
                // Then set the z position to where it is in the loop (distance of camera)
                sphere.position.z = z;
 
                // scale it up a bit
                sphere.scale.x = sphere.scale.y = 2;
        scene.add(sphere)
   stars.push(sphere);
 
    }
        }
      
      function animateStars() {
 
    // loop through each star
    for(var i=0; i<stars.length; i++) {
 
        star = stars[i];
 
        // move it forward by a 10th of its array position each time
        star.position.z +=  i/10;
 
        // once the star is too close, reset its z position
        if(star.position.z>1000) star.position.z-=2000;
    }
}
      
      function render() {
        //get the frame
        requestAnimationFrame( render );
 
        //render the scene
        renderer.render( scene, camera );
        animateStars();
    }
 
    init();
    addSphere();
    render();
 

  </script>
    
 <footer>
         <a href="http://michelleplee.github.io/ex1/">Return to Portal</a> | 
<a href="http://validator.w3.org/check?uri=referer" target="_blank">Valid HTML 5</a> | <a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">Valid CSS</a>
         
        </footer>
    
</body>
</html>